<app-active-job-header [headerTitle]="'Active job'"></app-active-job-header>

<ion-content>
  <div class="content-wrap">

    <app-active-job-common-header></app-active-job-common-header>

    <div class="mt-16 ml-16 mr-16">
      <div class="secondary fw-600 sub-heading-md">
        Summary
      </div>

      <div class="box-wrap mt-16">
        <div class="pl-16 pr-16 pt-16 pb-16">
          <ion-row>
            <ion-col size="5">
              <div class="sub-heading-sm fw-400 secondary">Check-in time:</div>
            </ion-col>
            <ion-col size="7">
              <div *ngIf="!activeJobService?.dayChange" class="sub-heading-sm fw-400 secondary ion-float-right">
                {{activeJobService?.inTime | formatTime | date: 'hh:mm a' }}
              </div>
              <div *ngIf="activeJobService?.dayChange" class="sub-heading-sm fw-400 secondary ion-float-right">
                {{activeJobService.activeJob?.job?.dates[0].date | formatDate | date: 'MMM dd, yyyy'}}
                {{activeJobService?.inTime | formatTime | date: 'hh:mm a' }}
              </div>
            </ion-col>
          </ion-row>

          <ion-row class="pt-12">
            <ion-col size="5">
              <div class="sub-heading-sm fw-400 secondary">Check-out time:</div>
            </ion-col>
            <ion-col size="7">
              <div *ngIf="!activeJobService?.dayChange" class="sub-heading-sm fw-400 secondary ion-float-right">
                {{activeJobService?.outTime | formatTime | date: 'hh:mm a' }}
              </div>
              <div *ngIf="activeJobService?.dayChange" class="sub-heading-sm fw-400 secondary ion-float-right">
                {{activeJobService?.newDayDate | formatDate | date: 'MMM dd, yyyy'}}
                {{activeJobService?.outTime | formatTime | date: 'hh:mm a' }}
              </div>
            </ion-col>
          </ion-row>
        </div>
      </div>

      <div class="pt-16 pb-16 total-hour-wrap">
        <ion-row>
          <ion-col size="6" class="pl-0">
            <div class="sub-heading-sm fw-400 secondary">Total hours</div>
          </ion-col>
          <ion-col size="6">
            <div class="sub-heading-sm fw-500 secondary ion-float-right">
              {{activeJobService.activeJob?.attendance?.content[0]?.totalRecordedTime || 0}} hours
            </div>
          </ion-col>
        </ion-row>
      </div>

      <div class="c-card-header-wrap mt-16">
        <ion-row>
          <ion-col size="12" class="pl-0">
            <div class="fw-400 sub-heading-sm ternary">Estimated payment*</div>
          </ion-col>
        </ion-row>

        <ion-row class="m-0">
          <ion-col size="12" class="pl-0">
            <div class="d-flex">
              <div class="fw-600 main-body-heading-sm primary">&#x20b9;{{activeJobService?.expectedAmount?
                activeJobService?.expectedAmount: activeJobService?.totalPayment || 0}}</div>
              <div class="ml-8">
                <img src="../../../assets/imgs/Iconsax/Svg/All/outline/edit-3.svg" (click)="editPayment()">
              </div>
            </div>
          </ion-col>
        </ion-row>
      </div>
      <div class="mt-8 ternary fw-400 sub-heading-xs">
        Estimated payment includes the base pay, your hourly rate as well as other reimbursements. If your estimated
        payment
        doesn't match the agreed amount, please edit and await for the approval.
      </div>

      <div class="mt-24 mb-24">
        <ion-row>
          <ion-col size="12" class="p-0">
            <custom-button [title]="'Submit your bills'" (btnClick)="submitPayment()" [button]="'primary'">
            </custom-button>
          </ion-col>
        </ion-row>
      </div>
    </div>
  </div>
</ion-content>